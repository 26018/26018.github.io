---
layout: post
title: 顺序表（课本导学）
data: 2020-03-05
tags: C语言 课本代码
author: 金辉
cover: 'https://cdn.jsdelivr.net/gh/26018/img/image/星空.png'
grammar_heighlight: true
grammar_codeLinenums: true
grammar_codeChunk: true
---

>这是课本上对顺序表的导学案例

```c
#include <stdio.h>
#include <stdlib.h>
#define MaxSize 50
typedef int ElemType;    //ElemType 意为元素的类型 
typedef struct
{
	ElemType data[MaxSize];
	int length;
}Sqlist;

void InitList(Sqlist *&L)               // 初始化，为 L 变量申请（Sqlist）大小的内存 
{
	L = (Sqlist *)malloc(sizeof(Sqlist));
	L->length = 0;					
}

void Create(Sqlist *&L,ElemType a[],int n)   // 接收数组 a 与数组 a 的长度 
{
	int i = 0,k = 0;
	L = (Sqlist *)malloc(sizeof(Sqlist));
	while(i<n)
	{
		L->data[k] = a[i];               //  把 a 数组的内容赋值给 结构体的data 
		k++,i++;
	}
	L->length = k;                      //  记录 长度 
}

int ListEmpty(Sqlist *L)
{
	int i;
	return (i = L->length == 0? 1 : 0 );
}

int ListLength(Sqlist *L)              //  数组长度 
{	
	return (L->length);
}

void DispList(Sqlist *L)              //   打印数组 
{
	printf("顺序表:"); 
	for(int i = 0;i<L->length;i++) 
		printf("%d ",L->data[i]);
	printf("\n\n");
}

bool GetElem(Sqlist *L,int i,ElemType &e)  //  获取第 i 个数字 保存在 e中	 
{
	if(i<1 || i>L->length)            // 判断输入 i 值的合法性 
		return false;
	e = L->data[i-1];
	return true;
}

int LocateElem(Sqlist *L,ElemType e)      //寻找数字 e 的下标 
{
	int i = 0 ;
	while(i<L->length && L->data[i] != e)
		i++;
	if(i>L->length)
		return 0;
	else
		return (i+1);
}

bool ListInsert(Sqlist *&L,int i,ElemType e)   // 插入数值 
{
	int j ;
	if(i<1 || i>L->length+1 || L->length == MaxSize)
		return false;
	i--;
	for(j = L->length; j>i; j--)
		L->data[j] = L->data[j-1];
	L->data[i] = e;
	L->length++;
	return true; 
}

bool ListDelete(Sqlist *&L,int i,ElemType &e)     // 删除数值 
{
	int j;
	if(i<1 || i>L->length)
		return false;
	i--;
	e = L->data[i];
	for(j = i;j<L->length-1;j++)
		L->data[j] = L->data[j+1];
	L->length--;
	return true;
}

void DestroyList(Sqlist *&L)                   // 释放内存 
{
	free(L);
}

int main()
{
	int a[8] = {40,41,42,43,44,45,46,47},i=4,e=0,m=43,x=99,u=3;
	Sqlist *L;
	InitList(*&L);
	Create(*&L,a,8) ;           
    DispList(*&L);              //   打印数组 
	printf("为空？：%d\n\n",ListEmpty(*&L));  //判断数组是否为空 
	printf("长度：%d\n\n",ListLength(*&L)); 
	printf("第%d个数字是%d\t\n\n",i,e,GetElem(*&L,i,e));  // 判断第i个数字是否在数组中，若在 则用e表示 
	printf("数字%d在第%d位\n\n",m,LocateElem(*&L,m));       // 找数字m的下标 
	
	ListDelete(*&L,4,i);
	DispList(*&L);  
	printf("删除的数字是:%d\n\n",i);
	
	printf("是否插入数字成功？：%d \n\n插入的位置为%d 数字是%d\n\n",ListInsert(*&L,u,x),u,x);
	DispList(*&L);      
	DestroyList(*&L);   
	return 0;
}

```
